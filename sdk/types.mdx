---
title: "Types"
description: "TypeScript interfaces and types"
---

# Types

All TypeScript types exported by `@castari/sdk`.

## Agent

Represents a Castari agent.

```typescript
interface Agent {
  id: string;
  user_id: string;
  name: string;
  slug: string;
  description?: string | null;
  source_type: AgentSourceType;
  git_repo_url?: string | null;
  git_branch: string;
  source_hash?: string | null;
  default_model: string;
  max_turns: number;
  timeout_seconds: number;
  status: AgentStatus;
  status_message?: string | null;
  sandbox_id?: string | null;
  created_at: string;
  updated_at: string;
}
```

| Field | Type | Description |
|-------|------|-------------|
| `id` | `string` | Unique identifier |
| `name` | `string` | Display name |
| `slug` | `string` | URL-safe identifier |
| `status` | `AgentStatus` | Current status |
| `source_type` | `AgentSourceType` | `'git'` or `'local'` |
| `git_repo_url` | `string?` | Source repository URL |
| `sandbox_id` | `string?` | Active sandbox ID (when deployed) |
| `created_at` | `string` | ISO 8601 timestamp |
| `updated_at` | `string` | ISO 8601 timestamp |

---

## AgentStatus

Possible agent statuses.

```typescript
type AgentStatus =
  | 'draft'
  | 'pending'
  | 'deploying'
  | 'active'
  | 'stopped'
  | 'failed';
```

| Status | Description |
|--------|-------------|
| `draft` | Created but not configured |
| `pending` | Configured but never deployed |
| `deploying` | Deployment in progress |
| `active` | Running and ready for invocations |
| `stopped` | Manually stopped |
| `failed` | Deployment or runtime error |

---

## AgentSourceType

Source type for agent code.

```typescript
type AgentSourceType = 'git' | 'local';
```

---

## InvocationResponse

Response from invoking an agent.

```typescript
interface InvocationResponse {
  invocation_id: string;
  session_id: string;
  sandbox_id?: string | null;
  response_content: string;
  input_tokens: number;
  output_tokens: number;
  total_cost_usd: number | string;
  duration_ms: number;
  status: 'completed' | 'failed';
}
```

| Field | Type | Description |
|-------|------|-------------|
| `invocation_id` | `string` | Unique identifier (e.g., `inv_abc123`) |
| `session_id` | `string` | Session ID for the invocation |
| `response_content` | `string` | Agent's response text |
| `input_tokens` | `number` | Tokens in the prompt |
| `output_tokens` | `number` | Tokens in the response |
| `total_cost_usd` | `number \| string` | Total cost in USD |
| `duration_ms` | `number` | Execution time in milliseconds |
| `status` | `string` | `'completed'` or `'failed'` |

---

## InvokeOptions

Options for invoking an agent.

```typescript
interface InvokeOptions {
  prompt: string;
  sessionId?: string;
}
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `prompt` | `string` | Yes | The prompt to send |
| `sessionId` | `string` | No | Session ID for conversation continuity |

---

## CreateAgentOptions

Options for creating an agent.

```typescript
interface CreateAgentOptions {
  name: string;
  slug?: string;
  description?: string;
  sourceType?: AgentSourceType;
  gitRepoUrl?: string;
}
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | `string` | Yes | Display name for the agent |
| `slug` | `string` | No | URL-safe identifier (auto-generated if omitted) |
| `description` | `string` | No | Agent description |
| `sourceType` | `AgentSourceType` | No | `'git'` (default) or `'local'` |
| `gitRepoUrl` | `string` | No | Git repository URL |

---

## UploadResponse

Response from uploading code.

```typescript
interface UploadResponse {
  agent_id: string;
  source_hash: string;
  status: AgentStatus;
  sandbox_id?: string | null;
  message: string;
}
```

---

## Secret

Represents a secret (metadata only — values are never returned).

```typescript
interface Secret {
  key: string;
}
```

| Field | Type | Description |
|-------|------|-------------|
| `key` | `string` | Secret name (e.g., `OPENAI_API_KEY`) |

---

## CastariClientOptions

Options for creating a client.

```typescript
interface CastariClientOptions {
  apiKey?: string;
  token?: string;
  baseUrl?: string;
}
```

| Field | Type | Description |
|-------|------|-------------|
| `apiKey` | `string` | API key (starts with `cast_`) |
| `token` | `string` | OAuth token |
| `baseUrl` | `string` | API base URL (default: `https://api.castari.com`) |

---

## CastariError

Error thrown by SDK operations.

```typescript
class CastariError extends Error {
  status: number;
  code?: string;
  detail?: string;
}
```

| Field | Type | Description |
|-------|------|-------------|
| `message` | `string` | Human-readable error message |
| `status` | `number` | HTTP status code |
| `code` | `string?` | Error code (e.g., `agent_not_found`) |
| `detail` | `string?` | Additional details |

**Example:**

```typescript
try {
  await client.agents.get('nonexistent');
} catch (error) {
  if (error instanceof CastariError) {
    console.log(error.status);  // 404
    console.log(error.message); // "Agent not found"
  }
}
```

---

## Importing Types

All types are exported from the main package:

```typescript
import {
  CastariClient,
  CastariClientOptions,
  CastariError,
  Agent,
  AgentStatus,
  AgentSourceType,
  InvocationResponse,
  InvokeOptions,
  CreateAgentOptions,
  UploadResponse,
  Secret,
} from '@castari/sdk';
```

## See Also

- [CastariClient](/sdk/client) — Client setup
- [Agents API](/sdk/agents) — Agent methods
- [Secrets API](/sdk/secrets) — Secrets methods
